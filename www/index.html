<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
    
    <title>Electris</title>
    
    <script>
        window._gaq = window._gaq || [];
    </script>

    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" type="text/css" href="css/template.css" />
    <link rel="stylesheet" type="text/css" href="css/app.css" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <script type="text/javascript" src="http://www.npr.org/templates/javascript/jwplayer/jwplayer.js"></script>
    <script>
        NPR = {};
        NPR.PageInfo = {};
        NPR.PageInfo.getUrlParameter = function (param) {
            return false;
        };
    </script>

	<script type="text/javascript">
		function play5Audio() {
			document.getElementById('livestreamer').play();
			$("#playcon5").empty();
			$("#playcon5").append("<img src='images/pauseButtonOver.png' onclick='pause5Audio();' />");
			if ($("#playerdisp .loading").length > 0) {
				$('#playerdisp .loading').remove();
			}
			if ($("#playerdisp .playing").length == 0) {
				$('#playerdisp').append('<div class="playing"><p>Live</p></div>');
				$('#eq_gfx').html('<img src="images/eq2.gif" />');
			}
		}
	
		function pause5Audio() {
			document.getElementById('livestreamer').pause();
			$("#playcon5").empty();
			$("#playcon5").append("<img src='images/playButtonOver.png' onclick='play5Audio();' />");
	
			$('#eq_gfx').html('<img src="images/eq-none.gif" />');
			$('#playerdisp .playing').remove();
			$('#playerdisp').append('<div class="loading loading-live"><p></p></div>');
		}
	</script>

</head>
<body>
    
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
            <ul class="nav">
              <li class="npr"><a href="http://npr.org">NPR</a></li>
              <li class="news"><a href="http://www.npr.org/sections/news/">News</a></li>
              <li class="arts"><a href="http://www.npr.org/sections/arts/">Arts &amp; Life</a></li>
              <li class="music"><a href="http://www.npr.org/music/">Music</a></li>
              <li class="donate"><a href="http://www.npr.org/stations/donate/">Donate</a></li>
            </ul>
        </div>
      </div>
    </div>

    <div class="container the-goods" id="maincontent">
		<div id="header" class="row">
            <div id="main-header" class="span8">
            	<div class="row">
            		<div id="header-title" class="span8">

						<h1>Election Night 2012</h1>
						
						<div id="comingsoon">
							<b></b>
							<div id="attrComingSoon" class="message">NPR's live election night<br />coverage begins at 7 p.m. ET.</div>
						</div>
						
						<div id="playercon">
							<div id="theplayer">
							
							<div id="jwPlayer_wrapper"></div>
							<div id="jwplayer_wrapper" style="position: relative; width: 41px; height: 41px; "><object type="application/x-shockwave-flash" data="http://www.npr.org/templates/javascript/jwplayer/player.swf" width="100%" height="100%" bgcolor="#000000" id="jwplayer" name="jwplayer" tabindex="0"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="seamlesstabbing" value="true"><param name="wmode" value="opaque"><param name="flashvars" value="netstreambasepath=http%3A%2F%2Fapps.npr.org%2F2012-democratic-national-convention%2F&amp;id=jwplayer&amp;bufferlength=5&amp;autostart=false&amp;skin=http%3A%2F%2Fwww.npr.org%2Fdesign%2Fstage%2FaudioTest%2Flive-convention-controls.zip&amp;playlist=%5B%5BJSON%5D%5D%5B%7B%22file%22%3A%22live3audio%4052188%22%2C%22provider%22%3A%22rtmp%22%2C%22streamer%22%3A%22rtmp%3A%2F%2Fcp150999.live.edgefcs.net%2Flive%2F%22%7D%5D&amp;controlbar.position=bottom"></object></div> 
								<script>
									// <![CDATA[
									try {
										var jwPlayerAdUrl = 'http://ad.doubleclick.net/pfadx/n6735.NPR.MUSIC/music;theme=1039;storyid=157840374;testserver=true;embed=npr;mediatype=video;sz=400x300;dcmt=text/xml;ord=66802162';
										var jwPlayerAutoStart = 'false';
										if (true) {
											if (NPR.PageInfo.getUrlParameter('autoplay') == 'true') {
												jwPlayerAutoStart = 'true';
											}
										}
											
										if (navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)) {
											$('#playercon').append("<div style='display: none'><audio id='livestreamer' src='http://npr.ic.llnwd.net/stream/npr_live3' controls='false'></audio></div>");
											$('#theplayer').append("<div id='playcon5'><img src='img/playButtonOver.png' onclick='play5Audio();' /></div>");
						
										} else {
											jwplayer('jwplayer').setup({
												modes: [{
													type: 'flash',
													src: 'http://www.npr.org/templates/javascript/jwplayer/player.swf',
													config: {
														skin: 'http://www.npr.org/design/stage/audioTest/live-convention-controls.zip',
														playlist: [{
															file: 'live3audio@52188',
															provider: 'rtmp',
															streamer: 'rtmp://cp150999.live.edgefcs.net/live/'
														}
						
														]
													}
												}, {
													type: 'html5',
													config: {
														playlist: [{
															
														}
						
														]
													}
												}],
												bufferlength: '5',
												controlbar: 'bottom',
												autostart: jwPlayerAutoStart,
												width: '41',
												height: '41',
												plugins: {
													'gapro-2': {
														'trackingobject': '_gaq',
														'trackstarts': 'true',
														'trackpercentage': 'true',
														'tracktime': 'true'
													}
												},
												events: {
													onBuffer: function () {
														if ($("#playerdisp .loading").length == 0) {
															$('#playerdisp .playing').remove();
															$('#playerdisp').append('<div class="loading loading-live"><p>Loading...</p></div>');
														}
													},
													onPlay: function () {
														if ($("#playerdisp .loading").length > 0) {
															$('#playerdisp .loading').remove();
														}
														if ($("#playerdisp .playing").length == 0) {
															$('#playerdisp').append('<div class="playing"><p>Live</p></div>');
															$('#eq_gfx').html('<img src="img/eq2.gif" />');
														}
													},
													onPause: function() {
														$('#eq_gfx').html('<img src="img/eq-none.gif" />');
														$('#playerdisp .playing').remove();
														$('#playerdisp').append('<div class="loading loading-live"><p></p></div>');
													}
												}
												   
											  
						
											});
										}
						
									} catch (e) {
										NPR.messaging.exception(e, 'jw player javascript', 'look in CommonJwPlayer.inc', NPR.messaging.constants.PLAYER_JS_ERROR);
									}; // ]]>
								</script>
							</div>
							<div class="speaking"><span class="slug" id="attrOnStageIntro">On The Air</span><br><strong id="attrOnStageName">Live Special Coverage</strong>, <span id="attrOnStageBio">from NPR News</span></div>
							<div id="playerstatus">
								<div id="eq_gfx"><img src="img/eq-none.gif"></div> 
								<div id="playerdisp"></div>
							</div>
						</div>
					</div>
				</div>

				<div class="row" id="topline">
					<div class="span4" id="o-president">
						<div class="wrap">
							<h3>President</h3>
							<h6>270 to win</h6>
							<ul>
								<li class="blue"><strong><span class="full">Barack Obama</span><span class="abbr">Obama</span>:</strong> <span id="blue-votes" class="votes"></span> <span class="bar"><b></b></span></li>
								<li class="red"><strong><span class="full">Mitt Romney</span><span class="abbr">Romney</span>:</strong> <span id="red-votes" class="votes"></span> <span class="bar"><b></b></span></li>
								<li class="undecided"><strong><span class="full">Outstanding</span><span class="abbr">Remain.</span>:</strong> <span id="undecided-votes" class="votes"></span> <span class="bar"><b></b></span></li>
							</ul>
						</div>
					</div>
					<div class="span4" id="o-senate">
						<div class="wrap">
							<h3>Senate</h3>
							<h6>51 for majority</h6>
							<ul>
								<li class="blue"><strong><span class="full">Democrats</span><span class="abbr">Dem.</span>:</strong> <span class="bar"><b></b></span> <span class="pickups">(+2)</span> <span id="blue-votes" class="votes">50</span></li>
								<li class="red"><strong><span class="full">Republicans</span><span class="abbr">GOP</span>:</strong> <span class="bar"><b></b></span> <span class="pickups">(+2)</span> <span id="red-votes" class="votes">50</span></li>
								<li class="undecided"><strong><span class="full">Outstanding</span><span class="abbr">Remain.</span>:</strong> <span class="bar"><b></b></span> <span id="undecided-votes" class="votes">0</span></li>
							</ul>
						</div>
					</div>
					<div class="span4" id="o-house">
						<div class="wrap">
							<h3>House</h3>
							<h6>218 for majority</h6>
							<ul>
								<li class="blue"><strong><span class="full">Democrats</span><span class="abbr">Dem.</span>:</strong> <span class="bar"><b></b></span> <span class="pickups">(+2)</span> <span id="blue-votes" class="votes">200</span></li>
								<li class="red"><strong><span class="full">Republicans</span><span class="abbr">GOP</span>:</strong> <span class="bar"><b></b></span> <span class="pickups">(+2)</span> <span id="red-votes" class="votes">200</span></li>
								<li class="undecided"><strong><span class="full">Outstanding</span><span class="abbr">Remain.</span>:</strong> <span class="bar"><b></b></span> <span id="undecided-votes" class="votes">35</span></li>
							</ul>
						</div>
					</div>
				</div>
        
            </div> <!-- end #mainheader -->

			<div class="span4" id="bigbox">
			 <p>[AD GOES HERE]</p>
			</div>
			
        </div>
        
        <div class="row" id="alert-msg">
        	<div class="span12">
        		<div class="alert">
        			<button type="button" class="close" data-dismiss="alert">×</button>
        			<strong>NEW CALL:</strong> NPR has called <span class="st"><b>n</b> South Carolina</span>, <span class="st"><b>s</b> Virginia</span> and <span class="st"><b>u</b> Washington</span> for <strong>[candidate]</strong>, and <span class="st"><b>Z</b> Montana</span> for <strong>[candidate]</strong>.
        		</div>
        	</div>
        </div>


        <div class="row">
            <div class="span9" id="results">
            
            	<div class="row" id="president">
            		<div class="span6 stateblock" id="states">
            			<div class="row" id="buckets">
            				<div class="bucket blue"></div>
            				<div class="bucket red"></div>
	                        <div class="line">270</div>
		                </div>
		            </div>

		            <div class="span3">
		            	<div class="well" id="game-info">

			            	<h3>Game It Out</h3>
		            		<button id="resetBtn" class="btn btn-mini" type="button">Reset</button>
			            	<p>Drag each state into a red or blue bucket to predict how it will go on election night.</p>
			            	<p><button type="button" data-toggle="modal" data-target="#probabilities" data-backdrop="false" class="btn btn-small btn-inverse">See All Possible Outcomes</button></p>
                            <p><button id="add-predictions" type="button" class="btn btn-small">Show NPR's predictions</button>
			            	<hr />
	            	        <div class="bucket undecided"></div>
                            <br style="clear:both" />
		    	        	
		    	        	<div class="modal" id="probabilities" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		    	        		<div class="modal-header">
		    	        			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		    	        			<h3 id="myModalLabel">Probabilities</h3>
		    	        		</div>
		    	        		<div class="modal-body">
		    	        			<div id="combos">
		    	        				<div class="dem">
		    	        					<p><strong>Democrats need <span id="blue-needs"></span> votes to win.</strong> There are <span id="blue-combos-count"></span> ways for them to get them:</p>
		    	        					<ul id="blue-combos"></ul>
		    	        				</div>
		    	        				<div class="rep">
		    	        					<p><strong>Republicans need <span id="red-needs"></span> votes to win.</strong> There are <span id="red-combos-count"></span> ways for them to get them:</p>
		    	        					<ul id="red-combos"></ul>
		    	        				</div>
		    	        			</div>
			    	        	</div>
			    	        	<div class="modal-footer">
		    		        		<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
			    		        </div>
							</div>

	            	    </div>
	            	    
	            	    <div id="pres-results">
			                <h2>Presidential Results</h2>

	            	    	<ul class="nav nav-tabs" id="pres-nav">
	            	    		<li id="nav-pres-watching"><a>Coming In</a></li>
	            	    		<li id="nav-pres-called"><a>Called</a></li>
	            	    		<li id="nav-pres-closing"><a>Coming Up</a></li>
	            	    	</ul>
	            	    	
	            	    	<ul id="pres-watching" class="results">
	            	    		<li class="instructions">
	            	    			Click on a state name to predict who will win.
	            	    		</li>
	            	    		<li class="hdr">
	            	    			<span class="s instructions">&nbsp;</span>
	            	    			<span class="blue">
	            	    				Obama (D)
	            	    			</span>
	            	    			<span class="red">
	            	    				Romney (R)
	            	    			</span>
	            	    		</li>
	            	    	</ul>
	            	    	
	            	    	<ul id="pres-called" class="results">
	            	    		<li class="instructions">
	            	    			Predictions not available for states that have been called.
	            	    		</li>
	            	    		<li class="hdr">
	            	    			<span class="s">&nbsp;</span>
	            	    			<span class="blue">
	            	    				Obama (D)
	            	    			</span>
	            	    			<span class="red">
	            	    				Romney (R)
	            	    			</span>
	            	    		</li>
	            	    	</ul>
	            	    	
	            	    	<ul id="pres-closing" class="results">
	            	    		<li class="instructions">
	            	    			Click on a state name to predict who will win.
	            	    		</li>
                                <li class="time-0700">
                                    <strong>7:00 PM ET</strong>
                                </li>
	                                <li class="time-0730">
                                    <strong>7:30 PM ET</strong>
                                </li>
	                                <li class="time-0800">
                                    <strong>8:00 PM ET</strong>
                                </li>
	                                <li class="time-0900">
                                    <strong>9:00 PM ET</strong>
                                </li>
	                                <li class="time-1000">
                                    <strong>10:00 PM ET</strong>
                                </li>
	                                <li class="time-1100">
                                    <strong>11:00 PM ET</strong>
                                </li>
	                                <li class="time-0100">
                                    <strong>1:00 AM ET</strong>
                                </li>
	            	    	</ul>
	            	    
	            	    </div>
		            </div>
                </div>
                
            </div>
            <div id="blog" class="span3">
                <h2>This Just In</h2>
                <div id="blog_river_alert"></div>
                <div id="blog_river">
               		<ul>
                		<li class="r0">What do today's results mean? Supposedly, Mitt Romney "had" to win Ohio. He did, but not by much. And he took some thumpings from Rick Santorum in North Dakota, Oklahoma and Tennessee. Newt Gingrich's win in Georgia keeps him in the race. Ron Paul shows no sign of quitting. The battle continues.        <span class="date">March 7 2012, 12:56 AM</span></li>
                		<li class="r1">With Ohio in his win column, Mitt Romney has victories in five states today (the others were Idaho, Massachusetts, Vermont and Virginia). Rick Santorum won in North Dakota, Oklahoma and Tennessee. Newt Gingrich won Georgia. Alaska's results will be in later.         <span class="date">March 7 2012, 12:36 AM</span></li>
                		<li class="r2">From NPR Senior Washington Editor Ron Elving: "NPR projects that Mitt Romney will win the Republican presidential primary in Ohio and avoid a recount. Romney’s lead was approximately 1 full percentage point, well above the  0.25% margin that is the threshold for a recount under state law."        <span class="date">March 7 2012, 12:34 AM</span></li>
                		<li class="r3">CNN also calls Ohio for Mitt Romney.        <span class="date">March 7 2012, 12:33 AM</span></li>
                		<li class="r4">Joining in the call giving Ohio to Mitt Romney: NBC News.        <span class="date">March 7 2012, 12:31 AM</span></li>
                		<li class="r5">Mitt Romney has won the Ohio primary, The Associated Press just projected.         <span class="date">March 7 2012, 12:29 AM</span></li>
                		<li class="r6">Ohio now has votes counted in 99 percent of precincts and Mitt Romney has a 10,661-vote lead over Rick Santorum -- or, 37.9 percent to Santorum's 37 percent.         <span class="date">March 7 2012, 12:26 AM</span></li>
                		<li class="r7">Ohio law calls for an automatic recount in statewide elections if the candidate in the lead has less than a 0.25 percent advantage over the "defeated" candidate. The calculation is based on "the total vote." At this moment, Romney's 10,660 or so advantage is about 0.9 percent of the total vote.          (<a target="_blank" href="http://codes.ohio.gov/orc/3515">link</a>) <span class="date">March 7 2012, 12:24 AM</span></li>
                		<li class="r8">A familiar conclusion after yet another set of Republican contests: Voters didn't give Mitt Romney "a decisive victory that could have brought a swift end to the Republican nominating contest," <em>The Wall Street Journal</em> writes. (<a target="_blank" href="http://online.wsj.com/article/SB10001424052970203370604577265413171428388.html?mod=WSJ_hp_LEFTTopStories">link</a>) <span class="date">March 7 2012, 12:09 AM</span></li>
                		<li class="r9">Though Mitt Romney has pulled ahead in the state that pundits said he had to win, Politico writes that he didn't deliver a "knockout punch" in Ohio.          (<a target="_blank" href="http://www.politico.com/news/stories/0312/73710.html">link</a>) <span class="date">March 6 2012, 11:59 PM</span></li>
                		<li class="r130">For those who want something of a schedule for tonight's action: The first polls close, at 7 p.m. ET, in Georgia, Vermont and Virginia.        <span class="date">March 6 2012, 05:16 PM</span></li>
                		<li class="r131">Good evening. Welcome to our live blogging of the news from the 10 Super Tuesday contests as the race for the Republican presidential nomination continues.         <span class="date">March 6 2012, 05:12 PM</span></li>
                	</ul>
                </div>
                <div id="blog_river_hold"></div>
                
                <!-- TODO: Do we care if this list gets super-long? (Mark would have 100+ updates in a night during primary season.) -->

            </div>
        </div>
        
        <div id="footer" class="row">
            <div class="span12">
            	<ul class="bottomlist">
            		<li><a href="http://www.npr.org/">Copyright 2012 NPR</a></li>
            		<li><a href="http://www.npr.org/about/termsofuse.html">Terms of Use</a></li>
            		<li><a href="http://www.npr.org/about/privacypolicy.html">Privacy Policy</a></li>
            		<li><a href="http://www.npr.org/about/permissioninfo.html">Permissions</a></li>
            		<li><a href="http://www.npr.org/corrections/">Corrections</a></li>
            		<li><a href="http://thin.npr.org">Text-Only Site</a></li>
            		<li class="help"><a href="http://www.npr.org/help/">Help</a></li>
            		<li class="contact"><a href="http://www.npr.org/contact/">Contact Us</a></li>
            		<li class="donate"><a href="http://www.npr.org/stations/donate/">Donate</a></li>
            	</ul>
            </div>
        </div>
        
    </div>
    
    <script id="state-template" type="text/template">
        <div class="state <%= state.id %> <% if (is_election_night) { %><% if (state.call) { %>call-<%= state.call %> called<% } %><% } else { %> prediction-<%= state.prediction %><% } %>" data-id="<%= state.id %>">
            <% _.times(state.electoral_votes, function(){ %>
                <i data-placement="top" data-title="<%= state.name %>" data-content="Electoral votes: <%= state.electoral_votes %><br />Polls close: <%= state.polls_close.format('h:mm a') %><% if (is_election_night) { %><br />Obama: <%= state.dem_vote_count %><br />Romney: <%= state.rep_vote_count %><br />Precincts: <%= Math.round(state.precincts_reporting / state.total_precincts * 100) %>%<% } %>"><span><%= state.stateface %></span></i>
            <% }); %>
        </div>
    </script>

    <script id="reporting-template" type="text/template">
        <li class="<%= state.id %>">
            <span class="s">
                <span class="st"><b><%= state.stateface %></b><strong><%= state.abbr %> (<%= state.electoral_votes %>)</strong></span>
            </span>
            <span class="blue <% if (state.call === 'd') { %>winner<% } %>">
                <%= Math.round(state.dem_vote_count / (state.dem_vote_count +  state.rep_vote_count) * 100) %>%
            </span>
            <span class="red <% if (state.call === 'r') { %>winner<% } %>"">
                <%= Math.round(state.rep_vote_count / (state.dem_vote_count +  state.rep_vote_count) * 100) %>%
            </span>
            <span class="precincts">
				<%= Math.round(state.precincts_reporting / state.total_precincts * 100) %>% reporting
			</span>

            <% if (state.id === "ne") { %>
                <span class="note">Nebraska awards electoral votes proportionally rather than winner-take-all. Romney will receive <strong>TKTK</strong> votes, Obama <strong>TKTK</strong>.</span>
            <% } else if (state.id === "me") { %>
                <span class="note">Maine awards electoral votes proportionally rather than winner-take-all. Romney will receive <strong>TKTK</strong> votes, Obama <strong>TKTK</strong>.</span>
            <% } %>
        </li>
    </script>

    <script id="coming-up-template" type="text/template">
        <span class="st <%= state.id %>"><b><%= state.stateface %></b><%= state.abbr %> (<%= state.electoral_votes %>)</span>
    </script>

    <!--[if lt IE 9]>
    <script src="js/lib/html5.js"></script>
    <![endif]-->
    
    <script type="text/javascript" src="js/lib/jquery-1.8.1.min.js"></script>
    <script type="text/javascript" src="js/lib/underscore-min.js"></script>
    <script type="text/javascript" src="js/lib/miso.min.js"></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap.js"></script>
    <script type="text/javascript" src="js/combinations.js"></script>
    <script type="text/javascript" src="js/app.js"></script>  
</body>
</html>
