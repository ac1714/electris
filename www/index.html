<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
    
    <title>Electris</title>
    
    <script>
        window._gaq = window._gaq || [];
    </script>

    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" type="text/css" href="css/template.css" />
    <link rel="stylesheet" type="text/css" href="css/app.css" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <script type="text/javascript" src="http://www.npr.org/templates/javascript/jwplayer/jwplayer.js"></script>
    <script>
        NPR = {};
        NPR.PageInfo = {};
        NPR.PageInfo.getUrlParameter = function (param) {
            return false;
        };
    </script>

	<script type="text/javascript">
		function play5Audio() {
			document.getElementById('livestreamer').play();
			$("#playcon5").empty();
			$("#playcon5").append("<img src='images/pauseButtonOver.png' onclick='pause5Audio();' />");
			if ($("#playerdisp .loading").length > 0) {
				$('#playerdisp .loading').remove();
			}
			if ($("#playerdisp .playing").length == 0) {
				$('#playerdisp').append('<div class="playing"><p>Live</p></div>');
				$('#eq_gfx').html('<img src="images/eq2.gif" />');
			}
		}
	
		function pause5Audio() {
			document.getElementById('livestreamer').pause();
			$("#playcon5").empty();
			$("#playcon5").append("<img src='images/playButtonOver.png' onclick='play5Audio();' />");
	
			$('#eq_gfx').html('<img src="images/eq-none.gif" />');
			$('#playerdisp .playing').remove();
			$('#playerdisp').append('<div class="loading loading-live"><p></p></div>');
		}
	</script>

	<!-- DFP TARGET -->
	<script type="text/javascript">
        <!--
            var DFP = {};
            DFP.tile = 0;
            DFP.ord = Number(window.ord) || Math.floor(Math.random() * 1E10);
            DFP.target = 'http://ad.doubleclick.net/adj/n6735.NPR/news_election_2012;agg=139482413;storyid=139482413';
        // -->
        </script>
		           
        <!-- DFP AD MANAGER -->
        <script type="text/javascript">
        <!--
             DFP[0] = {"utype":null,"sz":"300x250","position":"right_main"};
             DFP[1] = {"utype":null,"sz":"88x31","position":"search_box"};
		
            
            DFP.renderLocation = function(location) {
                var params = DFP[location];
                var toRender = '<scr' + 'ipt src="' 
                                + DFP.target 
                                + ';sz=' + params.sz
                                + ';tile=' + ++DFP.tile
                                + ';sc='
                                + ';ord=' + DFP.ord 
                                + ';" type="text/javascript" language="javascript"></scr' + 'ipt>';
                document.write(toRender);
            }
        // -->
	</script>
	
</head>
<body>
    
    <div class="navbar navbar-fixed-top navbar-inverse">
      <div class="navbar-inner">
        <div class="container">
            <ul class="nav">
              <li class="npr"><a href="http://npr.org">NPR</a></li>
              <li class="news"><a href="http://www.npr.org/sections/news/">News</a></li>
              <li class="arts"><a href="http://www.npr.org/sections/arts/">Arts &amp; Life</a></li>
              <li class="music"><a href="http://www.npr.org/music/">Music</a></li>
              <li class="donate"><a href="http://www.npr.org/stations/donate/">Donate</a></li>
            </ul>
            <div id="social">
            	<ul>
            		<li><span>Share This Page:</span></li>
            		<li class="twitter"><a rel="external" href="http://twitter.com/share?via=nprnews&amp;text=Live%20From%20The%202012%20Republican%20National%20Convention&amp;url=http%3A%2F%2Fapps.npr.org%2F2012-republican-national-convention%2F" alt="Share on Twitter" target="_blank" onclick="_gaq.push(['_trackEvent', 'Social', 'Click Twitter In Navbar', 'Conventions']);">Share This Page On Twitter</a></li>
            		<li class="facebook"><a rel="external" href="http://www.facebook.com/sharer/sharer.php?t=Live+From+The+2012+Republican+National+Convention&amp;u=http%3A%2F%2Fapps.npr.org%2F2012-republican-national-convention%2F" alt="Share on Facebook" target="_blank" onclick="_gaq.push(['_trackEvent', 'Social', 'Click Facebook In Navbar', 'Conventions']);">Like This Page On Facebook</a></li>
            	</ul>
			</div>
        </div>
      </div>
    </div>

    <div class="container the-goods" id="maincontent">
		<div id="header" class="row">
            <div id="main-header" class="span8">
            	<div class="row">
            		<div id="header-title" class="span8">

						<h1>Election Night 2012</h1>
						
						<div id="comingsoon">
							<b></b>
							<div id="attrComingSoon" class="message">NPR's live election night<br />coverage begins at 7 p.m. ET.</div>
						</div>
						
						<div id="playercon">
							<div id="theplayer">
							
							<div id="jwPlayer_wrapper"></div>
							<div id="jwplayer_wrapper" style="position: relative; width: 41px; height: 41px; "><object type="application/x-shockwave-flash" data="http://www.npr.org/templates/javascript/jwplayer/player.swf" width="100%" height="100%" bgcolor="#000000" id="jwplayer" name="jwplayer" tabindex="0"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="seamlesstabbing" value="true"><param name="wmode" value="opaque"><param name="flashvars" value="netstreambasepath=http%3A%2F%2Fapps.npr.org%2F2012-democratic-national-convention%2F&amp;id=jwplayer&amp;bufferlength=5&amp;autostart=false&amp;skin=http%3A%2F%2Fwww.npr.org%2Fdesign%2Fstage%2FaudioTest%2Flive-convention-controls.zip&amp;playlist=%5B%5BJSON%5D%5D%5B%7B%22file%22%3A%22live3audio%4052188%22%2C%22provider%22%3A%22rtmp%22%2C%22streamer%22%3A%22rtmp%3A%2F%2Fcp150999.live.edgefcs.net%2Flive%2F%22%7D%5D&amp;controlbar.position=bottom"></object></div> 
								<script>
									// <![CDATA[
									try {
										var jwPlayerAdUrl = 'http://ad.doubleclick.net/pfadx/n6735.NPR.MUSIC/music;theme=1039;storyid=157840374;testserver=true;embed=npr;mediatype=video;sz=400x300;dcmt=text/xml;ord=66802162';
										var jwPlayerAutoStart = 'false';
										if (true) {
											if (NPR.PageInfo.getUrlParameter('autoplay') == 'true') {
												jwPlayerAutoStart = 'true';
											}
										}
											
										if (navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)) {
											$('#playercon').append("<div style='display: none'><audio id='livestreamer' src='http://npr.ic.llnwd.net/stream/npr_live3' controls='false'></audio></div>");
											$('#theplayer').append("<div id='playcon5'><img src='img/playButtonOver.png' onclick='play5Audio();' /></div>");
						
										} else {
											jwplayer('jwplayer').setup({
												modes: [{
													type: 'flash',
													src: 'http://www.npr.org/templates/javascript/jwplayer/player.swf',
													config: {
														skin: 'http://www.npr.org/design/stage/audioTest/live-convention-controls.zip',
														playlist: [{
															file: 'live3audio@52188',
															provider: 'rtmp',
															streamer: 'rtmp://cp150999.live.edgefcs.net/live/'
														}
						
														]
													}
												}, {
													type: 'html5',
													config: {
														playlist: [{
															
														}
						
														]
													}
												}],
												bufferlength: '5',
												controlbar: 'bottom',
												autostart: jwPlayerAutoStart,
												width: '41',
												height: '41',
												plugins: {
													'gapro-2': {
														'trackingobject': '_gaq',
														'trackstarts': 'true',
														'trackpercentage': 'true',
														'tracktime': 'true'
													}
												},
												events: {
													onBuffer: function () {
														if ($("#playerdisp .loading").length == 0) {
															$('#playerdisp .playing').remove();
															$('#playerdisp').append('<div class="loading loading-live"><p>Loading...</p></div>');
														}
													},
													onPlay: function () {
														if ($("#playerdisp .loading").length > 0) {
															$('#playerdisp .loading').remove();
														}
														if ($("#playerdisp .playing").length == 0) {
															$('#playerdisp').append('<div class="playing"><p>Live</p></div>');
															$('#eq_gfx').html('<img src="img/eq2.gif" />');
														}
													},
													onPause: function() {
														$('#eq_gfx').html('<img src="img/eq-none.gif" />');
														$('#playerdisp .playing').remove();
														$('#playerdisp').append('<div class="loading loading-live"><p></p></div>');
													}
												}
												   
											  
						
											});
										}
						
									} catch (e) {
										NPR.messaging.exception(e, 'jw player javascript', 'look in CommonJwPlayer.inc', NPR.messaging.constants.PLAYER_JS_ERROR);
									}; // ]]>
								</script>
							</div>
							<div class="speaking"><span class="slug" id="attrOnStageIntro">On The Air</span><br><strong id="attrOnStageName">Live Special Coverage</strong>, <span id="attrOnStageBio">from NPR News</span></div>
							<div id="playerstatus">
								<div id="eq_gfx"><img src="img/eq-none.gif"></div> 
								<div id="playerdisp"></div>
							</div>
						</div>
					</div>
				</div>

				<div class="row" id="topline">
					<div class="span4" id="o-president">
						<div class="wrap">
							<h3>President</h3>
							<h6>270 to win</h6>
							<ul>
								<li class="blue"><strong><span class="full">Barack Obama</span><span class="abbr">Obama</span></strong> <span id="blue-votes" class="votes"></span> <span class="bar"><b></b></span></li>
								<li class="red"><strong><span class="full">Mitt Romney</span><span class="abbr">Romney</span></strong> <span id="red-votes" class="votes"></span> <span class="bar"><b></b></span></li>
								<li class="undecided"><strong><span class="full">Undecided</span><span class="abbr">Undecided</span></strong> <span id="undecided-votes" class="votes"></span> <span class="bar"><b></b></span></li>
							</ul>
						</div>
					</div>
					<div class="span4" id="o-senate">
						<div class="wrap">
							<h3>Senate</h3>
							<h6>51 for majority</h6>
							<ul>
								<li class="blue"><strong><span class="full">Democrats</span><span class="abbr">Dem.</span></strong> <span class="bar"><b></b></span> <span class="pickups">(+2)</span> <span id="blue-votes" class="votes">50</span></li>
								<li class="red"><strong><span class="full">Republicans</span><span class="abbr">GOP</span></strong> <span class="bar"><b></b></span> <span class="pickups">(+2)</span> <span id="red-votes" class="votes">50</span></li>
								<li class="undecided"><strong><span class="full">Undecided</span><span class="abbr">Undecided</span></strong> <span class="bar"><b></b></span> <span id="undecided-votes" class="votes">0</span></li>
							</ul>
						</div>
					</div>
					<div class="span4" id="o-house">
						<div class="wrap">
							<h3>House</h3>
							<h6>218 for majority</h6>
							<ul>
								<li class="blue"><strong><span class="full">Democrats</span><span class="abbr">Dem.</span></strong> <span class="bar"><b></b></span> <span class="pickups">(+2)</span> <span id="blue-votes" class="votes">200</span></li>
								<li class="red"><strong><span class="full">Republicans</span><span class="abbr">GOP</span></strong> <span class="bar"><b></b></span> <span class="pickups">(+2)</span> <span id="red-votes" class="votes">200</span></li>
								<li class="undecided"><strong><span class="full">Undecided</span><span class="abbr">Undecided</span></strong> <span class="bar"><b></b></span> <span id="undecided-votes" class="votes">35</span></li>
							</ul>
						</div>
					</div>
				</div>
        
            </div> <!-- end #mainheader -->

			<div class="span4" id="bigbox">

                <!-- START 300X250 AD -->
                <div class="adwrapper"><div class="sponsor300">

				<!-- DFP AD MANAGER -->
				<script type="text/javascript">
				<!--
					try{
						DFP.renderLocation(0);
					}catch(e){
						NPR.messaging.warning('Problem fetching/rendering ad server code.','DFP.renderlocation',NPR.messaging.constants.SPONSORSHIP_ERROR);
					}
				// -->
				</script>                  
				<!-- END UNDERWRITING -->
				
				<p class="left">NPR thanks our sponsors</p>
				<p class="right"><a href="http://www.npr.org/about/place/corpsupport/">Become an NPR Sponsor </a></p>
				</div></div>
				<!-- END 300X250 AD --> 

			</div>
			
        </div>
        
        <div class="row" id="alert-msg">
        	<div class="span12">
        	</div>
        </div>


        <div class="row">
            <div class="span3">
                <div class="combos">
                    <p><strong>Barack Obama needs <span id="blue-needs">?</span> electoral votes to win.</strong> He must win at least <span class="blue-simple-combo-length">?</span> more states to get those votes. There are <span class="blue-simple-combos-count">?</span> combinations of <span class="blue-simple-combo-length">?</span> states that could get him the votes he needs.</p>
                    <ul id="blue-combos"></ul>
                </div>
            </div>

            <div class="span9" id="results">
            	<div class="row" id="president">

            		<div class="span6 stateblock" id="states">
            			<div class="row" id="bucket-headers">
            				<div class="bucket-header blue">
            					<h5>Your Prediction</h5> <!-- only show if user has started interacting with bars -->
            					<h3><i>Barack </i><b>Obama</b></h3>
            					<h4><b id="p-blue-electoral">00</b> electoral votes</h4>
                                <p><b id="p-blue-call"><span class="value">00</span> based on polling</b> | <b id="p-blue-predict"><span class="value">00</span> predicted by you</b></p>
            				</div>
            				<div class="bucket-header red">
            					<h5>Your Prediction</h5> <!-- only show if user has started interacting with bars -->
            					<h3><i>Mitt </i><b>Romney</b></h3>
            					<h4><b id="p-red-electoral">00</b> electoral votes</h4>
            					<p><b id="p-red-call"><span class="value">00</span> based on polling</b> | <b id="p-red-predict"><span class="value">00</span> predicted by you</b></p>
            				</div>
            			</div>
            			<div class="row" id="buckets">
            				<div class="bucket blue"></div>
            				<div class="bucket red"></div>
	                        <div class="line"><b>270</b></div>
		                </div>
		            </div>

                    <div class="span3">
                        <div class="combos">
                            <p><strong>Mitt Romney needs <span id="red-needs">?</span> electoral votes to win.</strong> He must win at least <span class="red-simple-combo-length">?</span> more states to to get those votes. There are <span class="red-simple-combos-count">?</span> combinations of <span class="red-simple-combo-length">?</span> states that could get him the votes he needs.</p>
                            <ul id="red-combos"></ul>
                        </div>
                    </div>


	            	    <!-- <div id="pres-results">
			                <h2>Presidential Results</h2>
			                
			            	<div class="well" id="game-info">
				            	<p><strong>GAME IT OUT:</strong> Drag any undecided (yellow) state into a red or blue bucket to predict how it will go on election night.</p>
				            	
				            	<button id="show-combos" type="button" data-toggle="modal" data-target="#probabilities" data-backdrop="false" class="btn btn-small btn-inverse">See All Possible Outcomes</button>
        	                    <button id="add-predictions" type="button" class="btn btn-small">Pre-fill with NPR's predictions</button>
			            		<button id="resetBtn" class="btn btn-small" type="button">Clear All Predictions</button>
			    	        	
			    	        	<div class="modal" id="probabilities" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			    	        		<div class="modal-header">
			    	        			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		    		        			<h3 id="myModalLabel">Probabilities</h3>
		    		        		</div>
		    	    	    		<div class="modal-body">
		    	        				<div id="combos">
		    	        					<div class="dem">
                                                <p><strong>Barack Obama needs <span id="blue-needs">?</span> electoral votes to win.</strong> He must win at least <span class="blue-simple-combo-length">?</span> more states to get those votes. There are <span class="blue-simple-combos-count">?</span> combinations of <span class="blue-simple-combo-length">?</span> states that could get him the votes he needs.</p>
		    	        						<ul id="blue-combos"></ul>
		    	        					</div>
			    	        				<div class="rep">
                                                <p><strong>Mitt Romney needs <span id="red-needs">?</span> electoral votes to win.</strong> He must win at least <span class="red-simple-combo-length">?</span> more states to to get those votes. There are <span class="red-simple-combos-count">?</span> combinations of <span class="red-simple-combo-length">?</span> states that could get him the votes he needs.</p>
			    	        					<ul id="red-combos"></ul>
		    		        				</div>
		    		        			</div>
			    		        	</div>
			    	    	    	<div class="modal-footer">
		    		        			<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
				    		        </div>
								</div>
                            </div>


	            	    	<ul class="nav nav-tabs" id="pres-nav">
	            	    		<li id="nav-pres-watching"><a>Coming In</a></li>
	            	    		<li id="nav-pres-called"><a>Called</a></li>
	            	    		<li id="nav-pres-closing"><a>Soon</a></li>
	            	    	</ul>
	            	    	
                            <div id="state-drop">
                                <ul id="pres-watching" class="results">
                                    <li class="hdr">
                                        <span class="s instructions">&nbsp;</span>
                                        <span class="blue">
                                            Obama (D)
                                        </span>
                                        <span class="red">
                                            Romney (R)
                                        </span>
                                    </li>
                                </ul>

                                <ul id="pres-called" class="results">
                                    <li class="hdr">
                                        <span class="s">&nbsp;</span>
                                        <span class="blue">
                                            Obama (D)
                                        </span>
                                        <span class="red">
                                            Romney (R)
                                        </span>
                                    </li>
                                </ul>
                                
                                <ul id="pres-closing" class="results">
                                     <li class="time-0600">
                                        <strong>6:00 PM ET</strong>
                                    </li>
                                    <li class="time-0700">
                                        <strong>7:00 PM ET</strong>
                                    </li>
                                        <li class="time-0730">
                                        <strong>7:30 PM ET</strong>
                                    </li>
                                        <li class="time-0800">
                                        <strong>8:00 PM ET</strong>
                                    </li>
                                        <li class="time-0900">
                                        <strong>9:00 PM ET</strong>
                                    </li>
                                        <li class="time-1000">
                                        <strong>10:00 PM ET</strong>
                                    </li>
                                        <li class="time-1100">
                                        <strong>11:00 PM ET</strong>
                                    </li>
                                        <li class="time-0100">
                                        <strong>1:00 AM ET</strong>
                                    </li>
                                </ul>
                            </div>-->

		            </div>
                </div>
            </div>
        </div>
        
        <div id="footer" class="row">
            <div class="span12">
            	<ul class="bottomlist">
            		<li><a href="http://www.npr.org/">Copyright 2012 NPR</a></li>
            		<li><a href="http://www.npr.org/about/termsofuse.html">Terms of Use</a></li>
            		<li><a href="http://www.npr.org/about/privacypolicy.html">Privacy Policy</a></li>
            		<li><a href="http://www.npr.org/about/permissioninfo.html">Permissions</a></li>
            		<li><a href="http://www.npr.org/corrections/">Corrections</a></li>
            		<li><a href="http://thin.npr.org">Text-Only Site</a></li>
            		<li class="help"><a href="http://www.npr.org/help/">Help</a></li>
            		<li class="contact"><a href="http://www.npr.org/contact/">Contact Us</a></li>
            		<li class="donate"><a href="http://www.npr.org/stations/donate/">Donate</a></li>
            	</ul>
            </div>
        </div>
        
    </div>
    
    <script id="state-template" type="text/template">
        <div class="state <%= state.id %> <% if (is_election_night) { %><% if (state.call) { %>call-<%= state.call %> called<% } %><% } else { %> prediction-<%= state.prediction %> <% if (user_predicted_winner !== user_prediction) { %>prediction-loser<% } %><% } %>" data-id="<%= state.id %>">
            <% _.times(state.electoral_votes, function(){ %>
                <i data-placement="top" data-title="<%= state.name %>" data-content="Electoral votes: <%= state.electoral_votes %><br />Polls close: <%= state.polls_close.format('h:mm a') %><% if (is_election_night) { %><br />Obama: <%= state.dem_vote_count %><br />Romney: <%= state.rep_vote_count %><br />Precincts: <%= Math.round(state.precincts_reporting / state.total_precincts * 100) %>%<% } %>"><span><%= state.stateface %></span></i>
            <% }); %>
        </div>
    </script>

    <script id="reporting-template" type="text/template">
        <li class="<%= state.id %>">
            <span class="s">
                <span class="st"><b><%= state.stateface %></b><strong><%= state.abbr %> (<%= state.electoral_votes %>)</strong></span>
            </span>
            <span class="blue <% if (state.call === 'd') { %>winner<% } %>">
                <%= Math.round(state.dem_vote_count / (state.dem_vote_count +  state.rep_vote_count) * 100) || 0 %>%
            </span>
            <span class="red <% if (state.call === 'r') { %>winner<% } %>"">
                <%= Math.round(state.rep_vote_count / (state.dem_vote_count +  state.rep_vote_count) * 100) || 0 %>%
            </span>
            <span class="precincts">
				<%= Math.round(state.precincts_reporting / state.total_precincts * 100) %>% reporting
			</span>

            <% if (state.id === "ne") { %>
                <span class="note">Nebraska awards electoral votes proportionally rather than winner-take-all. Romney will receive <strong>TKTK</strong> votes, Obama <strong>TKTK</strong>.</span>
            <% } else if (state.id === "me") { %>
                <span class="note">Maine awards electoral votes proportionally rather than winner-take-all. Romney will receive <strong>TKTK</strong> votes, Obama <strong>TKTK</strong>.</span>
            <% } %>
        </li>
    </script>

    <script id="coming-up-template" type="text/template">
        <span class="st <%= state.id %>"><b><%= state.stateface %></b><%= state.abbr %> (<%= state.electoral_votes %>)</span>
    </script>

    <script id="call-alert-template" type="text/template">
  		<div class="alert call-alert">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <strong>New calls:</strong><br />
            <% if (states.d.length > 0) { %>NPR has called <% _.each(states.d, function(state, i) { %><span class="st"><b><%= state.stateface %></b> <%= state.name %></span><% if (states.d.length > 1) { %><% if (i == states.d.length - 2) { %> and<% } else if (i != states.d.length - 1) { %>,  <% }} %><% }) %> for Barack Obama.<% } %><br />
            <% if (states.r.length > 0) { %>NPR has called <% _.each(states.r, function(state, i) { %><span class="st"><b><%= state.stateface %></b> <%= state.name %></span><% if (states.r.length > 1) { %><% if (i == states.r.length - 2) { %> and<% } else if (i != states.r.length - 1) { %>, <% }} %><% }) %> for Mitt Romney.<% } %>
        </div>
    </script>

    <!--[if lt IE 9]>
    <script src="js/lib/html5.js"></script>
    <![endif]-->
    
    <script type="text/javascript" src="js/lib/jquery-1.8.1.min.js"></script>
    <script type="text/javascript" src="js/lib/underscore-min.js"></script>
    <script type="text/javascript" src="js/lib/miso.min.js"></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap.js"></script>
    <script type="text/javascript" src="js/combinations.js"></script>
    <script type="text/javascript" src="js/app.js"></script>  
</body>
</html>
